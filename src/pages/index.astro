---
const deploymentStatus = import.meta.env.PROD ? 'Production' : 'Development';
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro on Cloudflare Workers</title>
		<style>
			body {
				font-family: system-ui, -apple-system, sans-serif;
				line-height: 1.6;
				max-width: 800px;
				margin: 0 auto;
				padding: 2rem;
				background: #f5f5f5;
			}
			.container {
				background: white;
				padding: 2rem;
				border-radius: 8px;
				box-shadow: 0 2px 8px rgba(0,0,0,0.1);
			}
			h1 {
				color: #ff5e00;
			}
			.status {
				display: inline-block;
				padding: 0.25rem 0.75rem;
				background: #ff5e00;
				color: white;
				border-radius: 4px;
				font-size: 0.875rem;
				font-weight: 600;
			}
			code {
				background: #f0f0f0;
				padding: 0.2rem 0.4rem;
				border-radius: 3px;
				font-size: 0.9rem;
			}
			ul {
				list-style-type: none;
				padding: 0;
			}
			li {
				margin: 0.5rem 0;
			}
			li:before {
				content: "‚úì ";
				color: #22c55e;
				font-weight: bold;
			}
			.feature-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
				gap: 1rem;
				margin: 2rem 0;
			}
			.feature {
				background: #f9f9f9;
				padding: 1rem;
				border-radius: 6px;
				border-left: 3px solid #ff5e00;
			}
			.feature h3 {
				margin: 0 0 0.5rem 0;
				font-size: 1rem;
			}
			.feature p {
				margin: 0;
				font-size: 0.875rem;
				color: #666;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>üöÄ Astro on Cloudflare Workers</h1>
			<p>Your Astro site is now deployed on Cloudflare Workers with static assets!</p>
			
			<p>Environment: <span class="status">{deploymentStatus}</span></p>
			
			<h2>‚úÖ Migration Complete</h2>
			<ul>
				<li>Migrated from Cloudflare Pages to Workers</li>
				<li>Static assets hosting enabled</li>
				<li>GitHub Actions workflow configured</li>
				<li>Preview URLs available for each deployment</li>
			</ul>
			
			<h2>üéØ New Features Available</h2>
			<div class="feature-grid">
				<div class="feature">
					<h3>Workers Logs</h3>
					<p>Built-in logging and observability for better debugging</p>
				</div>
				<div class="feature">
					<h3>Cron Triggers</h3>
					<p>Schedule tasks to run at specific times</p>
				</div>
				<div class="feature">
					<h3>Queue Consumers</h3>
					<p>Process background jobs with Cloudflare Queues</p>
				</div>
				<div class="feature">
					<h3>Gradual Deployments</h3>
					<p>Roll out changes gradually with percentage-based traffic splitting</p>
				</div>
			</div>
			
			<h2>üìã Next Steps</h2>
			<ol>
				<li>Review the <code>CLOUDFLARE_WORKERS_DEPLOYMENT.md</code> file for setup instructions</li>
				<li>Add your Cloudflare credentials to GitHub Secrets</li>
				<li>Push to the <code>main</code> branch to trigger automatic deployment</li>
				<li>Configure a custom domain or use your <code>workers.dev</code> subdomain</li>
			</ol>
			
			<h2>üõ†Ô∏è Available Commands</h2>
			<ul style="list-style-type: disc; padding-left: 2rem;">
				<li><code>npm run dev</code> - Start development server</li>
				<li><code>npm run build</code> - Build for production</li>
				<li><code>npm run deploy</code> - Deploy to Cloudflare Workers</li>
				<li><code>npm run deploy:preview</code> - Deploy to preview environment</li>
			</ul>
		</div>
	</body>
</html>
